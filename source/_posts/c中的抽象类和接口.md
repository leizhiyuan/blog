title: "C#中的抽象类和接口"
tags:
  - C＃
  - 大学
  - 开发
  - 设计
  - 软件
id: 1079
categories:
  - 学习笔记
date: 2012-07-10 20:25:51
---

本文同样是笔记整理，手动输入一遍和看书的感觉还是很不一样的。文章非常好，讲的很清楚。

### 什么是接口？

　　　接口是包含一组虚方法的抽象类型，其中每一种方法都有其名称、参数和返回值。接口方法不能包含任何实现，CLR允许接口可以包含事件、属性、索引器、静态方法、静态字段、静态构造函数以及常数。但是注意：**C#中不能包含任何静态成员**。一个类可以实现多个接口，当一个类继承某个接口时，它不仅要实现该接口定义的所有方法，还要实现该接口从其他接口中继承的**所有**方法。

### 什么是抽象类？

　　　抽象类提供多个派生类共享基类的公共定义，它既可以提供抽象方法，也可以提供非抽象方法。抽象类不能实例化，必须通过继承由派生类实现其抽象方法，因此对抽象类不能使用new关键字，也不能被密封。如果派生类没有实现所有的抽象方法，则该派生类也必须声明为抽象类。另外，实现抽象方法由override方法来实现。

### 比较

> ### 相同点
> 
> > *   都不能被直接实例化，都可以通过继承实现其抽象方法。
> > *   都是面向抽象编程的技术基础，实现了诸多的设计模式。
> 
> ### 不同点
> 
> > *   接口**支持**多继承；抽象类不能实现多继承。
> > *   接口只能定义抽象规则；抽象类既可以定义规则，还可能提供已实现的成员。
> > *   接口是一组行为规范；抽象类是一个不完全的类，着重族的概念。
> > *   接口可以用于支持回调；抽象类不能实现回调，因为继承不支持。
> > *   接口只包含方法、属性、索引器、事件的签名，但不能定义字段和包含实现的方法；抽象类可以定义字段、属性、包含有实现的方法。
> > *   接口可以作用于值类型和引用类型；抽象类只能作用于引用类型。例如，Struct就可以继承接口，而不能继承类。
> 
> ### 规则与场合
> 
> > 1.  请记住，面向对象思想的一个最重要的原则就是：**面向接口编程**。
> > 2.  借助接口和抽象类，23个设计模式中的很多思想被巧妙的实现了，精髓就是面向抽象编程，通过封装变化来实现实体之间的关系。
> > 3.  抽象类应主要用于关系密切的对象，而接口最适合为不相关的类提供通用功能。
> > 4.  接口着重于CAN-DO关系类型，而抽象类则偏重于IS-A式的关系；
> > 5.  接口多定义对象的行为；抽象类多定义对象的属性；
> > 6.  接口定义可以使用public、protected、internal 和private修饰符，但是几乎所有的接口都定义为public，另外方法的访问级别不能低于接口的访问级别，否则可能导致编译错误。
> > 7.  “接口不变”，是应该考虑的重要因素。所以，在由接口增加扩展时，应该增加新的接口，而不能更改现有接口。
> > 8.  尽量将接口设计成功能单一的功能块，以.NET Framework为例，IDisposable、IDisposable、IComparable、IEquatable、IEnumerable等都只包含一个公共方法。
> > 9.  接口名称前面的大写字母“I”是一个约定，正如字段名以下划线开头一样，请坚持这些原则。
> > 10.  在接口中，所有的方法都默认为public。
> > 11.  如果预计会出现版本问题，可以创建“抽象类”。而向接口中添加新成员则会强制要求修改所有派生类，并重新编译，所以版本式的问题最好以抽象类来实现。
> > 12.  从抽象类派生的非抽象类必须包括继承的所有抽象方法和抽象访问器的实实现。
> > 13.  对抽象类不能使用new关键字，也不能被密封，原因是抽象类不能被实例化。
> > 14.  在抽象方法声明中不能使用 static 或 virtual 修饰符。
最后还是要勤于键盘，才能深入理解啊。

参考：[对抽象编程：接口和抽象类](http://www.cnblogs.com/anytao/archive/2007/04/12/must_net_02.html)

&nbsp;