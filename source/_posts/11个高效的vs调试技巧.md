title: 11个高效的VS调试技巧
tags:
  - C++
  - C＃
  - 大学
  - 学习
  - 编程
  - 翻译
  - 设计
  - 软件
id: 1822
categories:
  - 我的翻译
date: 2012-10-03 10:45:15
---

**介绍**

调试是软件开发周期中的一个很重要的部分，有时很有挑战性，有时候则让程序员迷惑，有时候让程序员发疯，但是。可以肯定的是，对于任何不是太那个微不足道的程序来说，调试是不可避免的。近年来，调试工具的发展已经使得很多调试任务简单省时了。

本文总结了十个调试技巧，当你使用VS的时候可以节省你很多时间。

1\. 悬停鼠标查看表达式

<<<<<<< HEAD
[![]({{BASE_PATH}}/images/5b9e01a5158e02f8079c7dc331f56110f3e0b82d.png "1")](http://leaverimage.b0.upaiyun.com/27679_o.png)
=======
[![](/images/5b9e01a5158e02f8079c7dc331f56110f3e0b82d.png "1")](http://leaverimage.b0.upaiyun.com/27679_o.png)
>>>>>>> 换电脑之后重新备份

调试有时候很有挑战性，当你步入一个函数想看看哪块出错的时候，查看调用栈来想想值是从哪来的。另一些情况下，则需要添加一些监视表达式，或者查看局部变量列表，这通常还是花费一些时间的，但是。如果你把你鼠标指向你感兴趣的一个变量。你会发现事情简单多了。而且，类和结构体可以通过单击展开。这样。你就可以方便快捷的找到你想查看的变量了。

2\. 实时改变值
<<<<<<< HEAD
[![]({{BASE_PATH}}/images/eade577f5ea39d3b970613ac3123610b67e427cb.png "2")](http://leaverimage.b0.upaiyun.com/27680_o.png)
调试器不仅仅是一个分析程序崩溃或是异常结果的工具了，许多bug都可以通过步入新写的函数，检查函数是否如期望的那样运行来预防。有时候你可能会好奇“如果条件为真函数会正确运行吗”大多数情况下，根本不需要改变代码重启挑起，仅仅把鼠标悬停到一个变量上，双击值然后输入一个新值就可以了。。

3．设置下一条语句
[![]({{BASE_PATH}}/images/1c86cc15b16c98adc1563eb1660481fa249beaf0.png "3")](http://leaverimage.b0.upaiyun.com/27690_o.png)
一个典型的调试情况就是通过单步跟踪分析为什么一个函数调用失败了。当你发现一个函数调用的另一个函数返回错误的时候你会怎么做？重启调试？有更好的方法。拖动这个黄色的语句标识到你想下一步执行的语句前就可以了。比如你刚才失败的那块，然后步入。简单，不是吗？

4.编辑然后继续
[![]({{BASE_PATH}}/images/8117d2025d49155485268fc1b56041e96cefaeac.png "4")](http://leaverimage.b0.upaiyun.com/27682_o.png)
=======
[![](/images/eade577f5ea39d3b970613ac3123610b67e427cb.png "2")](http://leaverimage.b0.upaiyun.com/27680_o.png)
调试器不仅仅是一个分析程序崩溃或是异常结果的工具了，许多bug都可以通过步入新写的函数，检查函数是否如期望的那样运行来预防。有时候你可能会好奇“如果条件为真函数会正确运行吗”大多数情况下，根本不需要改变代码重启挑起，仅仅把鼠标悬停到一个变量上，双击值然后输入一个新值就可以了。。

3．设置下一条语句
[![](/images/1c86cc15b16c98adc1563eb1660481fa249beaf0.png "3")](http://leaverimage.b0.upaiyun.com/27690_o.png)
一个典型的调试情况就是通过单步跟踪分析为什么一个函数调用失败了。当你发现一个函数调用的另一个函数返回错误的时候你会怎么做？重启调试？有更好的方法。拖动这个黄色的语句标识到你想下一步执行的语句前就可以了。比如你刚才失败的那块，然后步入。简单，不是吗？

4.编辑然后继续
[![](/images/8117d2025d49155485268fc1b56041e96cefaeac.png "4")](http://leaverimage.b0.upaiyun.com/27682_o.png)
>>>>>>> 换电脑之后重新备份
调试一个复杂的程序，或是一个插件的时候，在一个被调用很多次的函数处发现一个错误。但是不想浪费时间停下来，重新编译然后重新调试。没问题，仅仅在该处改正代码然后继续单步就可以。VS会修正程序然后继续调试不需要重启

注意，编辑然后继续有大量的已知限制，首先，64位代码是不行的。如果他如果为你的C#程序工作。就去工程设置的生成选项，然后目标平台为x86.不要担心。发布版的目标平台和调试的时候是分开的。可以被设置为任何平台。。

第二．编辑然后继续改变在一个方法里应该是局部的。。如果你改变了方法签名，添加一些新方法或是类。你就不得不重启程序了。或者撤销改变来继续。改变方法也包含lambda表达式隐式修改的自动生成的代理类，因此也不能继续。

5.方便的监视窗口
<<<<<<< HEAD
[![]({{BASE_PATH}}/images/a204da1e7bb82719b4a965da45d1cfcc51a90cd3.png "5")](http://leaverimage.b0.upaiyun.com/27683_o.png)
=======
[![](/images/a204da1e7bb82719b4a965da45d1cfcc51a90cd3.png "5")](http://leaverimage.b0.upaiyun.com/27683_o.png)
>>>>>>> 换电脑之后重新备份
大概现代的调试器都有一个监视窗口，无论如何。VS允许你简单的添加或移除变量。单击空行，输入你的表达式按下回车，或者是在不需要的表达式上按下Delete键就可以删除了。
而且。从监视窗口你不仅仅可以看到“正常”的变量。你可以输入$handles 来追踪你的程序打开了多少句柄（可以方便的修复内存泄漏） ，输入$err 可以看到上一个函数的错误码，然后使用工具-错误信息可以看到更详细的描述，或者输入@eax（64位是@rax）来查看包含函数返回值的寄存器。

6.带注释的反汇编
<<<<<<< HEAD
[![]({{BASE_PATH}}/images/d61b64ed0a189bec2f34f2faaf059916cce8e525.png "6")](http://leaverimage.b0.upaiyun.com/27684_o.png)
使用交互式的反汇编模式可以使得优化程序的关键部分变得很容易，VS给出对应你代码每一行的汇编指令，并且运行单步运行。同时，可以在任何位置设置断点。而且，表达式的查看和修改也像在C++代码里一样

7.带有栈的线程窗口
[![]({{BASE_PATH}}/images/5b212033679007829bb5c0684d62ab8f27a0514b.png "7")](http://leaverimage.b0.upaiyun.com/27691_o.png)
调试多线程的程序是痛苦的。。或者也可以是很有趣的。取决于你的调试器。VS2010真正优美的特性是线程窗口的栈视图，通过窗口的调用栈你可以方便的总览线程。

8.条件断点
[![]({{BASE_PATH}}/images/e93436bf72af22e533fe859971913a3d3c555789.png "8")](http://leaverimage.b0.upaiyun.com/27686_o.png)
如果你尝试通过断点再现一个罕见的事件，该情况引发了一些严重的错误。你可以添加条件断点。定义一个断点的条件，然后如果条件不成立，VS会忽略该断点

9.内存窗口
[![]({{BASE_PATH}}/images/0cfda80c7dbe3d0c50bb5646155914b5e3f07f4f.png "9")](http://leaverimage.b0.upaiyun.com/27687_o.png)
有些bug由不正确的结构体定义引起，忽略的对齐属性等等。查看内存中的内容可以定位然后修复bug。VS提供了一个放百年的内存窗口，可以把值以8/16/32/64位的形式展示。还有浮点值。也允许实时改变他们。就像在文本编辑器里一样。

10.转到定义
[![]({{BASE_PATH}}/images/3593aad0199fbed2f8faaef908e151a068e14d09.png "10")](http://leaverimage.b0.upaiyun.com/27688_o.png)
这个特性不是直接关于调试的，而是关于浏览大项目的。如果你尝试找到一些不是你自己写的代码中的错误，快速知道“这个类型是什么”或者“这个函数是干嘛的”，可以节省很多时间，VS通过一个转到定义命令方便了你。

11.命令窗口
[![]({{BASE_PATH}}/images/2af5b37764b18abe3ae34c1a67e4398721fbd04b.png "11")](http://leaverimage.b0.upaiyun.com/27689_o.png)
=======
[![](/images/d61b64ed0a189bec2f34f2faaf059916cce8e525.png "6")](http://leaverimage.b0.upaiyun.com/27684_o.png)
使用交互式的反汇编模式可以使得优化程序的关键部分变得很容易，VS给出对应你代码每一行的汇编指令，并且运行单步运行。同时，可以在任何位置设置断点。而且，表达式的查看和修改也像在C++代码里一样

7.带有栈的线程窗口
[![](/images/5b212033679007829bb5c0684d62ab8f27a0514b.png "7")](http://leaverimage.b0.upaiyun.com/27691_o.png)
调试多线程的程序是痛苦的。。或者也可以是很有趣的。取决于你的调试器。VS2010真正优美的特性是线程窗口的栈视图，通过窗口的调用栈你可以方便的总览线程。

8.条件断点
[![](/images/e93436bf72af22e533fe859971913a3d3c555789.png "8")](http://leaverimage.b0.upaiyun.com/27686_o.png)
如果你尝试通过断点再现一个罕见的事件，该情况引发了一些严重的错误。你可以添加条件断点。定义一个断点的条件，然后如果条件不成立，VS会忽略该断点

9.内存窗口
[![](/images/0cfda80c7dbe3d0c50bb5646155914b5e3f07f4f.png "9")](http://leaverimage.b0.upaiyun.com/27687_o.png)
有些bug由不正确的结构体定义引起，忽略的对齐属性等等。查看内存中的内容可以定位然后修复bug。VS提供了一个放百年的内存窗口，可以把值以8/16/32/64位的形式展示。还有浮点值。也允许实时改变他们。就像在文本编辑器里一样。

10.转到定义
[![](/images/3593aad0199fbed2f8faaef908e151a068e14d09.png "10")](http://leaverimage.b0.upaiyun.com/27688_o.png)
这个特性不是直接关于调试的，而是关于浏览大项目的。如果你尝试找到一些不是你自己写的代码中的错误，快速知道“这个类型是什么”或者“这个函数是干嘛的”，可以节省很多时间，VS通过一个转到定义命令方便了你。

11.命令窗口
[![](/images/2af5b37764b18abe3ae34c1a67e4398721fbd04b.png "11")](http://leaverimage.b0.upaiyun.com/27689_o.png)
>>>>>>> 换电脑之后重新备份
第十一的技巧[chaau](http://www.codeproject.com/script/Membership/View.aspx?mid=4917930)已经建议过了。确实可以节省很多时间，VS支持命令窗口，可以通过，视图-其他窗口-命令窗口来启动。一旦激活，你可以输入不同的命令来自动化调试。举个例子。你可以通过如下命令 简单的模拟MFC COleDateTime 变量。
<pre class="lang:default decode:true">? dt.Format("%Y-%m-%d %H:%M:%S")</pre>
许可
本文包括源代码和文件在CPOL下授权。

&nbsp;

原文地址：[10plus-powerful-debugging-tricks-with-Visual-Studi](http://www.codeproject.com/Articles/359801/10plus-powerful-debugging-tricks-with-Visual-Studi)

著作权声明：本文由[http://leaver.me](http://leaver.me/) 翻译，欢迎转载分享。请尊重作者劳动，转载时保留该声明和作者博客链接，谢谢！